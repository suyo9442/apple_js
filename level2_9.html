<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="이벤트 버블링과 이벤트관련 함수들">
    <!-- Bootstrap CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">

    <style>
        .black-bg {
            width: 100%;
            height: 100%;
            position: fixed;
            background: rgba(0,0,0,0.5);
            z-index: 5;
            padding: 30px;

            /* opacity를 줄 때 display: none 대용 */
            visibility: hidden;
            opacity: 0;
            transition: all .3s;
        }
        .white-bg {
            background: white;
            border-radius: 5px;
            padding: 30px;
        }
        .show_modal {
            visibility: visible;
            opacity: 1;
        }
    </style>

    <title>level1_22</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
                <span class="navbar-brand">Navbar</span>
                <button class="navbar-toggler" type="button">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>
        <ul class="list-group">
            <li class="list-group-item">An item</li>
            <li class="list-group-item">A second item</li>
            <li class="list-group-item">A third item</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>
        </ul>
    </header>

    <button id="login">로그인</button>

    <div class="black-bg" id="modal">
        <div class="white-bg">
          <h4>로그인하세요</h4>
          <form action="success.html" id="form">
            <div class="my-3">
              <input type="text" class="form-control" id="id">
             </div>
             <div class="my-3">
               <input type="password" class="form-control" id="pw">
             </div>
             <button type="submit" class="btn btn-primary" id="send">전송</button>
             <button type="button" class="btn btn-danger" id="close">닫기</button>
          </form> 
        </div>
    </div> 


    <script
        src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous"></script>
    <script>
        // 모달창 띄우기
        const login = document.querySelector('#login');
        const modal = document.querySelector('#modal');
        const close = document.querySelector('#close');
        const bg = document.querySelector('.black-bg');

        login.addEventListener('click', function(){
            modal.classList.add('show_modal');
        })
        close.addEventListener('click', function(){
            modal.classList.remove('show_modal');
        })


        // 검은배경 누르면 모달창 닫기
        bg.addEventListener('click', function(e){
            // console.log(e.target);
            // console.log(e.currentTarget);
            // console.log(this);
            // e.preventDefault();
            // e.stopPropagation();

            // 내가 실제로 누른 것이 까만 배경일 때
            if(e.target == bg) {
                modal.classList.remove('show_modal');
            }
        })
    </script>



    <!--
        1. 이벤트 버블링
        - 이벤트가 상위 html로 퍼지는 현상

        
        2. 버블링 막는 함수들
            e.target; 사용자가 실제 누른 요소
            e.currentTarget; 이벤트 리스너가 실제 달린 곳 (=this)
            e.preventDefault();
            e.stopPropagation(); 퍼지는 현상을 중단해주세요


        3. e.target과 제이쿼리 $()를 직접적으로 비교할 때 에러
        - $()불러온 요소는 js로 불러온 것과 다른 형태로 생김
        - so, js를 사용하든가..제이쿼리의 다른 문법을 사용하든가!
    -->
</body>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
</html>