<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="스크롤 위치에 따라 변하는 애니메이션 : Apple Music UI 만들기">
    <!-- Bootstrap CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">

    <style>
      .card-background {
        height: 3000px;
        margin-top: 800px;
        margin-bottom: 1600px;
      }
      .card-box {
        position: sticky;
        top: 400px;
        margin-top: 200px;
      }
      .card-box img {
        display: block;
        margin: auto;
        max-width: 80%;
      }
    </style>

    <title>level3_14</title>
</head>
<body>
  <div class="card-background">
    <div class="card-box"><img src="./img/card1.png" alt=""></div>
    <div class="card-box"><img src="./img/card2.png" alt=""></div>
    <div class="card-box"><img src="./img/card3.png" alt=""></div>
  </div>
  



  <script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
  <script>
    // 스크롤 높이에 따라 opacity가 변함
    window.addEventListener('scroll', function(){
      // opacity가 변할 시작점 체크
      var 높이 =  window.scrollY;
      console.log(높이);

      // 650 ~ 1150까지 스크롤바 내리면 
      // 첫번 째 카드 opacity 1-0으로 서서히 변경
      
      // document.querySelectorAll('.card-box')[0].style.opacity = 1~0까지 서서히 변하는 변수 넣어야함;
      //1차 함수
      // opacity가 1일 때, 높이는 650 
      // y = a * 높이 + b;
      // 1 = a * 650 + b; 
      // 0 = a * 1150 + b;
      // a = -1/500;
      // b = 115/50;
      var y = (-1/350) * 높이 + (115/50);
  
      document.querySelectorAll('.card-box')[0].style.opacity = y;
      document.querySelectorAll('.card-box')[0].style.transform = `scale(${y})`;
      

    })

  </script>



    <!--
      1. 미지의 변수를 이용해서 서서히 변하는 애니메이션 구현 가능...!ㅋㅋ
    -->
  </body>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
</html>