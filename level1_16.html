<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="정규식으로 이메일형식 검증해보기">
    <!-- Bootstrap CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">

    <title>level1_16</title>

    <style>
        .list-group {
            display: none;
        }
        .show {
            display: block;
        }
        .black-bg {
            width: 100%;
            height: 100%;
            position: fixed;
            background: rgba(0,0,0,0.5);
            z-index: 5;
            padding: 30px;

            /* opacity를 줄 때 display: none 대용 */
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s;
        }
        .white-bg {
            background: white;
            border-radius: 5px;
            padding: 30px;
        }
        .show_modal {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
                <span class="navbar-brand">Navbar</span>
                <button class="navbar-toggler" type="button">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>
        <ul class="list-group">
            <li class="list-group-item">An item</li>
            <li class="list-group-item">A second item</li>
            <li class="list-group-item">A third item</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>
        </ul>
    </header>

    <button id="login">로그인</button>

    <div class="black-bg" id="modal">
    <div class="white-bg">
        <h4>로그인하세요</h4>
        <form action="success.html" id="form">
            <div class="my-3">
                <input type="text" class="form-control" id="id"></div>
                <div class="my-3">
                    <input type="password" class="form-control" id="pw"></div>
                    <button type="submit" class="btn btn-primary" id="send">전송</button>
                    <button type="button" class="btn btn-danger" id="close">닫기</button>
                </form>
            </div>
    </div>

    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        document
            .getElementsByClassName('navbar-toggler')[0]
            .addEventListener('click', function () {
                document
                    .getElementsByClassName('list-group')[0]
                    .classList
                    .toggle('show')
            })

        // 모달창 띄우기
        const login = document.querySelector('#login');
        const modal = document.querySelector('#modal');
        const form = document.getElementsByTagName('form')[0];
        const send = document.querySelector('#send');
        const close = document.querySelector('#close');

        login.addEventListener('click', function () {
            modal
                .classList
                .add('show_modal');
        });
        close.addEventListener('click', function () {
            modal
                .classList
                .remove('show_modal');
        });

        // 전송버튼 눌렀을 때(=form이 전송되었을 때) input값이 공백이면 알림창 띄우기
        form.addEventListener('submit', function (e) {
            const id = document.querySelector('#id').value;
            const pw = document.querySelector('#pw').value;

            if (/\S+@\S+\.\S+/.test(id) == false) {
                alert('이메일 형식 아님')
                e.preventDefault();
            } else if (/[A-B]/.test(pw) == false) {
                alert('비번에 대문자 넣어야함')
                e.preventDefault();
            } else {
                alert('전송 완료')
            }
        });


        console.log(/\S+@\S+\.\S+/.test('abc@abc.aaa'))
    </script>




    <!--
        1.문자 검사하기
        - 'abc'.includes('a')
        -> 한글, 영어, 1이 몇개 있냐 이런건 검사x


        2. 정규식 써도 문자 검사 가능
        - /a/.test('abcde')
        2-1. 정규식을 쓰면 범위 검사도 가능
        - /[a-z]/.test('abcde')
        - /[ㄱ-ㅎ]/.test('ㅋㅋㅋ')
        2-2. 아무 문자 하나가 있는지 검사 ==> '\S'
        - /\s/.test('ㅋㅋㅋㅋ')
        2-3. s로 시작하는 문자 검사
        - /^s/.test('second')
        2-3. s로 끝나는지 검사
        - /s$/.test('seconds')
        2-4. a 또는 b가 있는지
        - /a|b/.test('acccc')
        2-5. ()를 사용해서 우선 검사

        그렇다면...이메일 형식 검사는??
        -> /\S+@\S+\.\S+/.test('abc@bbb.ccc')
        - .은 정규식 문법이라 ==> \. 로 써줘야 함
        - S는 아무문자 1개라 ==> \S+ (모든 문자를 1개를 반복적으로 검사)


        3. value값은 콜백함수안에 넣어줍시다..!!!
    -->
</body>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
</html>