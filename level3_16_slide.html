<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ìºëŸ¬ì…€ì— ìŠ¤ì™€ì´í”„ ê¸°ëŠ¥ ë§Œë“¤ê¸°">
    <!-- Bootstrap CSS -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
    crossorigin="anonymous">

    <style>
        .slide-container {
            width: 300vw;
            /* margin-left: -100vw; */

            /* ì„±ëŠ¥ìœ¼ë¡œëŠ” transformì´ ì¢‹ìŒ */
            transition: all 0.5s;
            /* transform: translateX(-100vw); */
        }
        .slide-box {
            width: 100vw;
            float: left;
        }
        .slide-box img {
            width: 100%;
        }
    </style>

    <title>level3_16_slide</title>
</head>
<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand">Navbar</span>
            <span class="badge bg-dark">Dark ğŸ”„</span>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>
    <div class="main-bg">
        <h4>Shirts on Sale</h4>
        <button id="login" class="btn btn-danger">ë¡œê·¸ì¸</button>
    </div>

    <div style="overflow: hidden;">
        <div class="slide-container">
            <div class="slide-box">
                <img src="./img/car1.png" alt="" draggable="false">
            </div>
            <div class="slide-box">
                <img src="./img/car2.png" alt="" draggable="false">
            </div>
            <div class="slide-box">
                <img src="./img/car3.png" alt="" draggable="false">
            </div>
        </div>    
    </div>
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="prev">&lt;</button>
    <button class="next">&gt;</button>

    

    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
    <script>
        var container = document.querySelector('.slide-container');
        var btn1 = document.querySelector('.slide-1');
        var btn2 = document.querySelector('.slide-2');
        var btn3 = document.querySelector('.slide-3');
        var prev = document.querySelector('.prev');
        var next = document.querySelector('.next');


        btn1.addEventListener('click', function(){
            container.style.transform = "translateX(0)";
        })
        btn2.addEventListener('click', function(){
            container.style.transform = "translateX(-100vw)";
        })
        btn3.addEventListener('click', function(){
            container.style.transform = "translateX(-200vw)";
        })


        // var index = 1;
        // next.addEventListener('click', function(){
        //     console.log(index);
            
        //     if(index == 1) {
        //         container.style.transform = "translateX(-100vw)";
        //         index += 1;
        //     } else if (index == 2) {
        //         container.style.transform = "translateX(-200vw)";
        //         index += 1;
        //     } else if (index == 3) {
        //         container.style.transform = "translateX(0vw)";
        //     }
        // })
        

        var index2 = 0;
        var array = document.querySelectorAll('.slide-box').length;

        next.addEventListener('click', function(){
            index2 += 1;

            if(index2 < array) { 
                container.style.transform = "translateX(-" + index2 + "00vw)";
            } else if (index2 == array) {
                index2 = 0;
                container.style.transform = "translateX(-" + index2 + "00vw)";
            }
            // console.log(index2)
        })

        
        prev.addEventListener('click', function(){
            index2 -= 1;

            if(index2 >= 0) {
                container.style.transform = "translateX(-" + index2 + "00vw)";
            } else if (index2 <= 0) {
                container.style.transform = "translateX(0vw)";
                index2 = 0;
                console.log(index2)
            }
        })
    </script>

    <!-- ë“œë˜ê·¸í•˜ë©´ ìŠ¬ë¼ì´ë“œ -->
    <script>
        //// ê¸°ëŠ¥1: ë‚´ê°€ ë“œë˜ê·¸í•œ ê±°ë¦¬ë§Œí¼ 'ë°•ìŠ¤'ë„ ì™¼ìª½ìœ¼ë¡œ ì›€ì§ì„
        let box = document.querySelectorAll('.slide-box');
        // ëª¨ë“  í•¨ìˆ˜ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ë°–ì— ì„ ì–¸í•´ì•¼í•¨
        let ì‹œì‘ì¢Œí‘œ = 0;
        let ëˆŒë €ëƒ = false;
        let ë“œë˜ê·¸ê±°ë¦¬ = 0;
        
        box[0].addEventListener('mousedown', function(e){
            // ì–¼ë§ˆë‚˜ ë“œë˜ê·¸í–ˆëŠ”ì§€? ì‹œì‘ì  ì¢Œí‘œ - ì¢…ë£Œì  ì¢Œí‘œ
            ì‹œì‘ì¢Œí‘œ = e.clientX;
            ëˆŒë €ëƒ = true;
        })
        box[0].addEventListener('mousemove', function(e){
            // ì–¼ë§ˆë‚˜ ë“œë˜ê·¸í–ˆëŠ”ì§€? ì‹œì‘ì  ì¢Œí‘œ - ì¢…ë£Œì  ì¢Œí‘œ
            // console.log(e.clientX - ì‹œì‘ì¢Œí‘œ);

            // ë§ˆìš°ìŠ¤ ì°ì€ í›„ì— ì›€ì§ì´ê²Œ í•´ì£¼ì„¸ìš”!!
            if (ëˆŒë €ëƒ == true) {
                ë“œë˜ê·¸ê±°ë¦¬ = e.clientX - ì‹œì‘ì¢Œí‘œ;
                container.style.transform = `translateX(${ë“œë˜ê·¸ê±°ë¦¬}px)`;
            }
        })


        // ë§ˆìš°ìŠ¤ ë—´ë©´ ì›€ì§ì´ì§€ ì•Šë„ë¡
        //// ê¸°ëŠ¥2: ë§ˆìš°ìŠ¤ ë—ì„ ë•Œ ì´ë™ê±°ë¦¬ê°€ 100ì´ìƒì´ë©´ ë‹¤ìŒ ì‚¬ì§„ ë³´ì„
        box[0].addEventListener('mouseup', function(e){
            ëˆŒë €ëƒ = false;
            
            console.log(e.clientX - ì‹œì‘ì¢Œí‘œ)
            // ë§ˆìš°ìŠ¤ ë—ì„ ë•Œ ì¢Œí‘œë¡œ ê³„ì‚°í•´ì¤˜ë„ ë¬´ë°©!
            // ìŒìˆ˜ê°’ ìƒê°í•´ì„œ ë“±í˜¸ì¨ì•¼ë­ã…ã…..
            if(e.clientX - ì‹œì‘ì¢Œí‘œ < -100) {
                container.style.transform = "translateX(-100vw)";
                console.log('ë—ë‹¤')
            } else {
                container.style.transform = "translateX(0)";
            }
        })



        //// ëª¨ë°”ì¼ í„°ì¹˜ì´ë²¤íŠ¸
        box[0].addEventListener('touchstart', function(e){
            ì‹œì‘ì¢Œí‘œ = e.touches[0].clientX;
            ëˆŒë €ëƒ = true;
        })
        box[0].addEventListener('touchmove', function(e){
            if (ëˆŒë €ëƒ == true) {
                ë“œë˜ê·¸ê±°ë¦¬ = e.touches[0].clientX - ì‹œì‘ì¢Œí‘œ;
                container.style.transform = `translateX(${ë“œë˜ê·¸ê±°ë¦¬}px)`;
            }
        })
        box[0].addEventListener('touchend', function(e){
            ëˆŒë €ëƒ = false;
            
            if(e.changedTouches[0].clientX - ì‹œì‘ì¢Œí‘œ < -100) {
                container.style.transform = "translateX(-100vw)";
                console.log('ë—ë‹¤')
            } else {
                container.style.transform = "translateX(0)";
            }
        })
      </script>




    <!--

        <ê¸°ëŠ¥1: ë‚´ê°€ ë“œë˜ê·¸í•œ ê±°ë¦¬ë§Œí¼ 'ë°•ìŠ¤'ë„ ì™¼ìª½ìœ¼ë¡œ ì›€ì§ì„>
        - mousedown: ë§ˆìš°ìŠ¤ ëˆŒë €ì„ ë•Œ ë°œìƒ
        - mouseup: ë§ˆìš°ìŠ¤ë¥¼ ë—„ ë•Œ
        ** click: mousedown + mouseup
        - mousemove: ë§ˆìš°ìŠ¤ ì›€ì§ì¼ ë•Œ
        - clientX: ë§ˆìš°ìŠ¤ì˜ ì¢Œìš° ì¢Œí‘œë¥¼ ì•Œë ¤ì¤Œ

        - ì–¼ë§ˆë‚˜ ë“œë˜ê·¸ í–ˆëŠ”ì§€?
        ==> ì‹œì‘ì  ì¢Œí‘œ(mousedown) - ì¢…ë£Œì  ì¢Œí‘œ(mousemove)
        ==> ì‹œì‘ì¢Œí‘œëŠ” ëª¨ë“  í•¨ìˆ˜ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ë°–ì— ì„ ì–¸í•´ì•¼í•¨(ì „ì—­ë³€ìˆ˜ë¡œ!)

        - 'ì¤‘ì§€'ì•„ì´ì½˜; ë¸Œë¼ìš°ì € ê¸°ë³¸ ê¸°ëŠ¥ì—†ì• ê¸°
        ==> draggable="false"

        - ì›€ì§ì¸ ê±°ë¦¬ê°€ ìŒìˆ˜ê°€ ë‚˜ì˜¤ë„ë¡ ì‹ ë³€ê²½
        => ì‹œì‘ì¢Œí‘œ = e.clientX
        ==> e.clientX - ì‹œì‘ì¢Œí‘œ

        - ë§ˆìš°ìŠ¤ ì°ê³  ë‚˜ì„œë¶€í„° ì›€ì§ì´ê²Œ í•´ì£¼ì„¸ìš”!!
        => ifë¬¸ê³¼ ë¶ˆë¦¬ì–¸í•¨ìˆ˜ í™œìš©
        => ë§ˆìš°ìŠ¤ ë–¼ë©´ ì›€ì§ì´ì§€ ì•Šê²Œë„ ë¶ˆë¦¬ì–¸í•¨ìˆ˜!



        <ê¸°ëŠ¥2: ë§ˆìš°ìŠ¤ ë—ì„ ë•Œ ì´ë™ê±°ë¦¬ê°€ 100ì´ìƒì´ë©´ ë‹¤ìŒ ì‚¬ì§„ ë³´ì„>
        => ë—ì„ ë•Œ~ ì¢Œí‘œë‘ ì‹œì‘ì ì´ë‘ ì—°ì‚°í•´ì¤˜ë„ ê°€ëŠ¥
        => ìŒìˆ˜ì¼ ë•Œ ë“±í˜¸ ìœ ì˜
        

        
        <ëª¨ë°”ì¼ì—ì„œëŠ” í„°ì¹˜ì´ë²¤íŠ¸ ì‚¬ìš©í•´ì•¼í•¨>
        - mousedown == touchstart
        - mouseup   == touchend
        - mousemove == touchmove
        => í„°ì¹˜ì´ë²¤íŠ¸ì—ì„œ ì¢Œí‘œì¶œë ¥í•  ë• touches[0] (ëª‡ë²ˆì§¸ ì†ê°€ë½ì¸ì§€ ëª…ì‹œ)
        => touchend ì—ì„œëŠ” changedTouches[0]
 

        
        *** hammer.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì“°ë©´ í„°ì¹˜ë‘ ë§ˆìš°ìŠ¤ ì´ë²¤ ë™ì‹œì— êµ¬í˜„í•  ìˆ˜ ìˆì˜¤ì„œ ë” ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆì›€
        => ë¸Œë¼ìš°ì €ê°„ í˜¸í™˜ì„± ì¡ì•„ì¤Œ
        => ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ 1ê°œë§Œ ì¨ë„ ë¨
        => ìŠ¤ì™€ì´í”„, í•€ì¹˜, ë¡œí…Œì´íŠ¸ ì´ë²¤ë¦¬ìŠ¤ë„ˆë„ ì œê³µ
        
    -->
</body>                                                       
</html>